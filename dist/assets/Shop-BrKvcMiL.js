import{u as e,a as s,r as a,d as t,j as r,P as l,e as o,H as i,c as n}from"./index-CAEXN0lK.js";import{P as d}from"./ProductCard-Ruwm1IaQ.js";import{S as c}from"./SEO-CPrLlM7W.js";import{S as x}from"./sparkles-Dv4hl07I.js";import{F as m}from"./filter-BPbVLglL.js";const p=()=>{const{addToCart:p,setIsCartOpen:u}=e();s();const[h,f]=a.useState([]),[g,b]=a.useState([]),[j,w]=a.useState([]),N=t(),[y,v]=a.useState(""),[k,C]=a.useState("All"),[S,E]=a.useState(!0);return a.useEffect(()=>{(async()=>{try{const e=new URLSearchParams(N.search),s=e.get("category"),a=e.get("search");s&&C(s),a&&v(a);const[t,r]=await Promise.all([n.get("/products"),n.get("/categories")]);f(t.data);const l=r.data,o=t.data.length;b([{name:"All",productCount:o},...l])}catch(e){console.error("Error fetching shop data",e)}finally{E(!1)}})()},[N.search]),a.useEffect(()=>{let e=h;"All"!==k&&(e=e.filter(e=>e.category===k)),y&&(e=e.filter(e=>e.name.toLowerCase().includes(y.toLowerCase()))),w(e)},[y,k,h]),r.jsxs(l,{children:[r.jsx(c,{title:"Tienda de Cositas Lindas",description:"Explora nuestro catÃ¡logo de productos de decoraciÃ³n para el hogar en Valledupar."}),r.jsx("div",{className:"pt-22 pb-20"}),r.jsxs("div",{className:"bg-white/50 min-h-screen pt-24 pb-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-pink-100/40 rounded-full blur-[100px] -z-10 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-100/40 rounded-full blur-[100px] -z-10 pointer-events-none"}),r.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(x,{className:"w-6 h-6 text-primary animate-pulse"}),r.jsx("h1",{className:"text-5xl font-display font-black text-secondary tracking-tight",children:"Tienda"})]}),r.jsx("p",{className:"text-gray-500 font-medium max-w-md",children:"Explora nuestra colecciÃ³n de cositas lindas para tu hogar. ðŸŒ¸"})]}),r.jsxs("div",{className:"relative w-full md:w-96",children:[r.jsx("input",{type:"text",placeholder:"Buscar cositas...",className:"w-full bg-white border-2 border-pink-100 rounded-full p-4 pl-12 font-medium text-gray-600 placeholder:text-pink-300 focus:outline-none focus:border-primary focus:ring-4 focus:ring-pink-100 transition-all shadow-sm",value:y,onChange:e=>v(e.target.value)}),r.jsx(o,{className:"absolute left-4 top-4 w-6 h-6 text-pink-300"})]})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[r.jsx("aside",{className:"w-full lg:w-64 space-y-8 flex-shrink-0",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-2 border-pink-100 rounded-3xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-xl font-display font-bold mb-6 flex items-center text-secondary border-b-2 border-pink-50 pb-2",children:[r.jsx(m,{className:"w-5 h-5 mr-2 text-primary"})," CategorÃ­as"]}),r.jsx("ul",{className:"space-y-2",children:g.map((e,s)=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>C(e.name),className:"w-full text-left font-bold text-sm px-4 py-3 rounded-xl transition-all flex justify-between items-center\n                                                "+(k===e.name?"bg-primary text-white shadow-md transform scale-105":"text-gray-500 hover:bg-pink-50 hover:text-primary"),children:[r.jsxs("div",{className:"flex items-center gap-2",children:["All"===e.name?"Todos":e.name,k===e.name&&r.jsx(i,{className:"w-3 h-3 fill-white"})]}),r.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full "+(k===e.name?"bg-white/20 text-white":"bg-pink-50 text-primary"),children:e.productCount})]})},s))})]})}),r.jsx("div",{className:"flex-1",children:S?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(e=>r.jsx("div",{className:"animate-pulse bg-gray-100 rounded-3xl aspect-[3/4]"},e))}):j.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8",children:j.map(e=>r.jsx(d,{product:e},e._id))}):r.jsxs("div",{className:"text-center py-20 bg-white/50 border-2 border-dashed border-pink-200 rounded-3xl",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-300 mb-2",children:"No se encontraron productos ðŸ˜¢"}),r.jsx("button",{onClick:()=>{v(""),C("All")},className:"mt-4 text-primary font-bold underline hover:text-primary-dark",children:"Ver todos los productos"})]})})]})]})]})]})};export{p as default};
