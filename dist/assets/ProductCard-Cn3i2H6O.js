import{a as e,u as t,r as a,j as r,m as s,S as o,H as i}from"./index-CLZj8LUV.js";const l=({product:l})=>{const n=e(),{addToCart:c,setIsCartOpen:d}=t(),[p,x]=a.useState(!1),m=l.images&&l.images.length>0?l.images[0]:null;return r.jsx("div",{className:"group block cursor-pointer h-full",onClick:()=>n(`/product/${l._id}`),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onFocus:()=>x(!0),onBlur:()=>x(!1),tabIndex:"0",role:"button","aria-label":`Ver detalles de ${l.name}`,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(`/product/${l._id}`))},children:r.jsxs("div",{className:"card-kawaii h-full flex flex-col relative bg-white transition-all duration-300 hover:shadow-xl",children:[r.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-gray-50 p-4 rounded-b-3xl",children:[l.discount>0&&r.jsxs("span",{className:"absolute top-4 right-4 bg-primary text-white text-xs font-bold px-3 py-1 rounded-full shadow-sm z-10 rotate-3",children:["-",l.discount,"% OFF"]}),r.jsx(s.img,{src:l.image||"https://via.placeholder.com/400x500",alt:l.name,className:"w-full h-full object-cover rounded-xl absolute inset-0 p-4",animate:{opacity:p&&m?0:1},transition:{duration:.3},loading:"lazy",width:"400",height:"500"}),m&&r.jsx(s.img,{src:m,alt:`${l.name} vista secundaria`,className:"w-full h-full object-cover rounded-xl absolute inset-0 p-4",initial:{opacity:0},animate:{opacity:p?1:0},transition:{duration:.3},loading:"lazy",width:"400",height:"500"}),r.jsx("div",{className:"absolute inset-0 bg-primary/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-b-3xl pointer-events-none",children:r.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),c(l),d(!0)},className:"bg-white text-primary font-bold px-6 py-2 rounded-full shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-transform hover:bg-primary hover:text-white relative z-30 pointer-events-auto flex items-center gap-2","aria-label":`Añadir ${l.name} al carrito`,children:[r.jsx(o,{className:"w-4 h-4"})," Añadir"]})})]}),r.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),n(`/shop?category=${l.category||"General"}`)},className:"inline-block bg-pink-50 px-2 py-1 rounded-md text-[10px] uppercase font-bold tracking-wider text-primary border border-pink-100 hover:bg-primary hover:text-white transition-colors relative z-20",children:l.category||"General"}),l.stock<=5&&l.stock>0&&r.jsx("span",{className:"text-[10px] font-bold text-red-400 uppercase flex items-center bg-red-50 px-2 py-0.5 rounded-full",children:"¡Últimos!"})]}),r.jsx("h3",{className:"text-lg font-bold text-secondary leading-tight mb-2 group-hover:text-primary transition-colors line-clamp-2",children:l.name}),r.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[l.discount>0&&r.jsxs("span",{className:"text-gray-400 text-xs line-through font-medium",children:["$",l.price.toLocaleString()]}),r.jsxs("span",{className:"text-xl font-display font-black text-primary-dark",children:["$",(l.price*(1-(l.discount||0)/100)).toLocaleString()]})]}),r.jsx("button",{onClick:e=>{e.stopPropagation()},className:"w-10 h-10 rounded-full bg-pink-50 flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors shadow-sm","aria-label":"Agregar a favoritos",children:r.jsx(i,{className:"w-5 h-5"})})]})]})]})})};export{l as P};
